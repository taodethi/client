"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{43:function(e,t,n){var i=n(1876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let r=n(8754),l=r._(n(1800)),o="https://client.taodethi.xyz",a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,i=new Date;i.setTime(i.getTime()+864e5*n);let r="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+r+"; path=/; SameSite=None; Secure",localStorage.setItem(e,t)},s=e=>{for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n].trim();if(0===i.indexOf(e+"="))return i.substring(e.length+1,i.length)}return null},c=()=>{console.log("proccessCookie",s("UserToken")),a("AccessToken",s("AccessToken")||localStorage.getItem("AccessToken")||""),a("UserToken",s("UserToken")||localStorage.getItem("UserToken")||"")},d=e=>{let{year:t,month:n}=e;var i={"by-date":e["by-date"]||"false","max-results":e["max-results"]||e.maxResults||10,"start-index":(e.start||e["start-index"]||0)+1,orderby:e.orderby||"updated",q:e.q||"",label:e.label||"","updated-min":e["updated-min"]||"","updated-max":e["updated-max"]||""};return t&&4==parseInt(t).toString().length&&(i["updated-min"]=(0,l.default)("".concat(t,"-").concat(n||"01")).startOf("month").startOf("day").format("YYYY-MM-DDTHH:mm:ssZ"),i["updated-max"]=(0,l.default)("".concat(t,"-").concat(n||"12")).endOf("month").endOf("day").format("YYYY-MM-DDTHH:mm:ssZ")),i},u=e=>{let t=new URLSearchParams,n=d(e),{label:i}=n;delete n.label,delete n.title,Object.keys(n).forEach(e=>{n[e]&&t.set(e,n[e])}),t.set("alt","json");var r="/feeds/posts/default?".concat(t.toString());return i&&(r="/feeds/posts/default/-/".concat(i.split("+").join("/"),"?").concat(t.toString())),r},m=e=>{let{id:t}=e;return"/feeds/posts/default/".concat(t,"?alt=json")},f=e=>{let t=document.createElement("div");t.innerHTML=e;let n=t.getElementsByClassName("hidden");return n.length?n[0].innerText:""},h=()=>"jsonp_callback_".concat(Math.round(1e5*Math.random())),p=e=>new Promise((t,n)=>{let i=h(),r=document.createElement("script");r.src="".concat(o).concat(e,"&callback=").concat(i),window[i]=e=>{delete window[i],document.body.removeChild(r),t(e)},r.onerror=e=>{delete window[i],document.body.removeChild(r),t(null)},document.body.appendChild(r)}),x=(e,t)=>{if("media$thumbnail"in e)n=e.media$thumbnail.url.replace("s72-c",t?"s450":"s150");else{var n,i=e.content.$t,r=i.indexOf("<img"),l=i.indexOf('src="',r),a=i.indexOf('"',l+5),s=i.substr(l+5,a-l-5);n=-1!=r&&-1!=l&&-1!=a&&""!=s?s:"https://i.imgur.com/vT2qWM7.png"}var c=e.link.find(e=>"alternate"===e.rel),d=c?c.href:null;return{id:e.id.$t.match(/(post|page)-(\d+)/)[2],author:e.author[0].name.$t,category:(e.category||[]).map(e=>e.term),published:e.published.$t,title:e.title.$t,updated:e.updated.$t,content:e.content.$t,subtitle:f(e.content.$t),cover:n,url:d.replace(o,"")}},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n,i;let r=await p(e);if(null==r?void 0:null===(n=r.feed)||void 0===n?void 0:n.entry)return null==r?void 0:null===(i=r.feed)||void 0===i?void 0:i.entry.map(e=>x(e,t));return[]}catch(e){throw e}},b=async e=>{try{let t=await p(e);if(null==t?void 0:t.entry)return x(t.entry);return null}catch(e){throw e}},v=e=>{if(!e||!e.content)return null;var t=e.content.match(/var sheet_id= "(.*?)";/);if(t)return JSON.parse(i.from(t[1],"base64").toString("utf8"));var n=/const CONFIG_ = (\{.*?\});/g;return(t=e.content.match(n))?JSON.parse(n.exec(t[0])[1]):null},y=()=>{let e=JSON.parse(sessionStorage.getItem("posts")||"{}");return e},j=["moz","ms","o","webkit"],S=e=>e?e+"Hidden":"hidden",Z=()=>{for(let e=0;e<j.length;e++)if(S(j[e]) in document)return j[e];return null},k=e=>{let{year:t,month:n,label:i}=e;return i||(n?"B\xe0i đăng trong Th\xe1ng ".concat(n," năm ").concat(t):"B\xe0i đăng trong năm ".concat(t))};e.exports={createUrlFeed:u,getPostByCategory:g,createUrlFeedPost:m,getPostDetail:b,parseExam:v,getPostLocal:y,proccessCookie:c,setCookie:a,getCookie:s,getHiddenPropertyName:S,getVisibilityEvent:e=>(e||"")+"visibilitychange",getBrowserPrefix:Z,getTitleCategory:k}},1800:function(e,t,n){n.r(t);var i=n(7484),r=n.n(i),l=n(9387),o=n.n(l);n(7553),r().extend(o()),t.default=r()},9609:function(e){let t=e=>{let t=Math.floor((new Date-new Date(e))/1e3);for(let[e,n]of Object.entries({năm:31536e3,tháng:2592e3,tuần:604800,ngày:86400,giờ:3600,phút:60})){let i=Math.floor(t/n);if(i>=1)return"".concat(i," ").concat(e," trước")}return"Vừa mới"},n=e=>"".concat(Math.floor(e/36e5).toString().padStart(2,"0"),":").concat(Math.floor(e%36e5/6e4).toString().padStart(2,"0"),":").concat(Math.floor(e%6e4/1e3).toString().padStart(2,"0"));e.exports={timeAgo:t,convertMilliseconds:n}},9835:function(e,t,n){n.r(t);var i=n(5893),r=n(1163),l=n(9770),o=n(43),a=n(8147),s=n(9008),c=n.n(s),d=n(7294),u=n(7357),m=n(3972),f=n(8263),h=n(8434);let p=()=>{let e=(0,r.useRouter)(),[t,n]=(0,d.useState)(null);(0,d.useEffect)(()=>{if(e.isReady){let{year:t,month:n,label:i}=e.query;if(!i&&(n&&isNaN(n)&&isNaN(parseInt(n))||t&&isNaN(t)&&isNaN(parseInt(t))))return e.push("/")}},[]);let{data:s,isLoading:p}=(0,l.Z)(e.isReady?(0,o.createUrlFeed)(e.query):null,o.getPostByCategory);return((0,d.useEffect)(()=>{p&&n({title:(0,o.getTitleCategory)(null==e?void 0:e.query),subtitle:"",cover:"https://i.imgur.com/j8mjlGx.png"})},[p]),p||!e.isReady)?(0,i.jsx)("div",{children:"Đang tải"}):(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c(),{children:(0,i.jsx)("title",{children:null==t?void 0:t.title})}),t?(0,i.jsx)(u.Z,{component:"section",sx:{paddingY:5,mb:5,position:"relative",minHeight:250,display:"flex",alignItems:"center",justifyContent:"center","::before":{content:'""',backgroundImage:"url("+t.cover+")",backgroundSize:"cover",backgroundPositionY:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",filter:"blur(3px)"}},children:(0,i.jsxs)(u.Z,{sx:{position:"relative",zIndex:1,textAlign:"center",padding:{md:10,xs:2,sm:4}},children:[(0,i.jsx)(m.Z,{variant:"h1",sx:{color:"white",fontWeight:700},children:t.title}),(0,i.jsx)(m.Z,{variant:"body2",sx:{color:"white",fontSize:"1.15rem"},children:t.subtitle})]})}):null,(0,i.jsxs)(f.ZP,{spacing:6,container:!0,children:[(0,i.jsx)(f.ZP,{item:!0,md:8,xs:12,children:(0,i.jsx)(u.Z,{className:"content-block col-items colLeft-items",children:(s||[]).map(e=>(0,i.jsx)(a.Z,{post:e,size:"full"},null==e?void 0:e.id))})}),(0,i.jsx)(f.ZP,{item:!0,md:4,xs:12,children:(0,i.jsx)(h.Z,{})})]})]})};t.default=p},8147:function(e,t,n){var i=n(5893),r=n(1649),l=n(7225),o=n(4799),a=n(3972),s=n(7357),c=n(9878),d=n(1623);n(1664);var u=n(9609),m=n(1163);let f=e=>{let{post:t,size:n="default"}=e,f=(0,m.useRouter)(),h=(0,r.I0)(),p=e=>{e.stopPropagation(),e.preventDefault(),h((0,l.z)(t))},x=e=>{sessionStorage.setItem("posts",JSON.stringify(t)),f.push(t.url)};return(0,i.jsxs)(d.Z,{sx:{position:"relative",display:"flex",alignItems:"center",textDecoration:"none",borderTop:"1px solid rgba(47, 43, 61, 0.12)",paddingY:2},component:"div",title:t.title,onClick:x,children:[(0,i.jsx)(s.Z,{sx:{width:{sm:"full"==n?200:100,xs:125},height:{sm:"full"==n?125:70,xs:80},zIndex:1},children:(0,i.jsx)(s.Z,{sx:{backgroundImage:"url(".concat(t.cover,")"),display:"block",position:"relative",width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:1},className:"cover-post"})}),(0,i.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",flex:1,paddingLeft:3,justifyContent:"space-between",minHeight:{sm:"full"==n?"8rem":"5rem",xs:"5rem"}},children:[(0,i.jsx)(a.Z,{variant:"h2",className:"title-post",sx:{fontWeight:"full"==n?600:400,fontSize:{sm:"full"==n?"1.25rem":"0.875rem",xs:"0.875rem"},overflow:"hidden",textAlign:"justify"},children:t.title}),"full"==n?(0,i.jsx)(a.Z,{variant:"body2",className:"title-post",sx:{overflow:"hidden",textAlign:"justify",display:{sm:"none",xs:"none",md:"inherit"}},children:t.subtitle}):null,(0,i.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",pb:1,justifyContent:"space-between"},children:[(0,i.jsxs)(s.Z,{sx:{mr:2,display:"flex",alignItems:"center"},children:["full"==n?(0,i.jsxs)(s.Z,{sx:{display:{sm:"flex",xs:"none"},alignItems:"center",color:"primary.main",mr:1},children:[(0,i.jsx)(c.Z,{icon:"tabler:discount-check-filled",size:"small",fontSize:15}),(0,i.jsx)(a.Z,{variant:"body2",sx:{mx:1,fontWeight:600,color:"primary.main"},children:t.author}),(0,i.jsx)(c.Z,{icon:"tabler:point-filled",fontSize:10})]}):null,(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"primary.main",fontWeight:600,fontSize:"0.75rem"},children:(0,u.timeAgo)(t.updated)})]}),(0,i.jsx)(o.Z,{size:"small",sx:{color:"primary.main"},title:"Chia sẻ b\xe0i viết",onClick:p,children:(0,i.jsx)(c.Z,{icon:"tabler:share",fontSize:15})})]})]})]})};t.Z=f},8434:function(e,t,n){var i=n(5893),r=n(7357);let l=()=>(0,i.jsx)(r.Z,{});t.Z=l}}]);